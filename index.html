<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>我的博客</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .modal-overlay {
      position: fixed;
      inset: 0;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .modal {
      background: white;
      padding: 2rem;
      border-radius: 12px;
      width: 90%;
      max-width: 600px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .close-btn {
      float: right;
      font-size: 1.5rem;
      cursor: pointer;
      color: #666;
    }
    .required::before {
      content: "*";
      color: red;
      margin-right: 0.3rem;
    }
    .tag {
      display: inline-block;
      background-color: #e0f2fe;
      color: #3b82f6;
      padding: 0.25rem 0.5rem;
      border-radius: 6px;
      font-size: 0.875rem;
      margin-right: 0.5rem;
      margin-bottom: 0.5rem;
    }
    .article-detail-modal {
      position: fixed;
      inset: 0;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1001;
    }
    .article-detail {
      background: white;
      padding: 2rem;
      border-radius: 12px;
      width: 90%;
      max-width: 600px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      max-height: 80vh;
      overflow-y: auto;
    }
  </style>
</head>
<body class="min-h-screen bg-gray-100">

  <!-- 顶部导航栏 -->
  <header class="bg-white shadow-sm">
    <div class="max-w-4xl mx-auto px-4 py-4 flex justify-between items-center">
      <h1 class="text-xl font-bold text-gray-800">我的博客</h1>
      <div class="flex space-x-3">
        <button onclick="showEditForm()" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition">
          编辑个人信息
        </button>
        <button onclick="showAddArticleForm()" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition">
          新建文章
        </button>
      </div>
    </div>
  </header>

  <!-- 主内容区 -->
  <main class="max-w-4xl mx-auto px-4 py-8">
    <!-- 文章归档 -->
    <section class="bg-white rounded-lg shadow-md p-6 mt-8">
      <h2 class="text-2xl font-bold text-center mb-6">文章归档</h2>
      <div class="space-y-4">
        <div>
          <h3 class="text-lg font-medium text-gray-800 mb-4">2025年12月</h3>
          <div class="border-b pb-4 mb-4 last:border-b-0">
            <a href="#" onclick="showArticleDetail(1); return false;" class="text-blue-600 hover:underline block font-medium">大二碎记：在校园的烟火里，捡拾成长的星光</a>
            <div class="text-sm text-gray-600 mt-1">
              2025-12-22 
              <span class="mx-1">•</span>
              <span class="tag">大二</span>
              <span class="tag">校园</span>
            </div>
          </div>
          <div class="border-b pb-4 mb-4 last:border-b-0">
            <a href="#" onclick="showArticleDetail(2); return false;" class="text-blue-600 hover:underline block font-medium">武汉美食打卡全攻略：在烟火气里吃透江湖味</a>
            <div class="text-sm text-gray-600 mt-1">
              2025-12-22 
              <span class="mx-1">•</span>
              <span class="tag">美食</span>
              <span class="tag">武汉</span>
              <span class="tag">攻略</span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- 个人信息编辑弹窗 -->
  <div id="editModal" class="modal-overlay hidden">
    <div class="modal">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-lg font-semibold">编辑个人信息</h2>
        <span class="close-btn" onclick="closeModal()">×</span>
      </div>

      <form onsubmit="saveUserInfo(); return false;">
        <div class="mb-4">
          <label class="block text-sm font-medium required mb-1">头像 (URL)</label>
          <input type="text" id="avatarUrl" value="https://tu.tuhenmei.com/zb_users/upload/2023/06/20230613168661723:" class="w-full border rounded px-3 py-2" />
        </div>

        <div class="mb-4">
          <label class="block text-sm font-medium required mb-1">姓名</label>
          <input type="text" id="name" value="pigStar" class="w-full border rounded px-3 py-2" />
        </div>

        <div class="mb-4">
          <label class="block text-sm font-medium required mb-1">个人简介</label>
          <textarea id="bio" rows="3" class="w-full border rounded px-3 py-2">这个人很神秘，什么也没留下。</textarea>
        </div>

        <div class="mb-4">
          <label class="block text-sm font-medium required mb-1">更详细的介绍</label>
          <textarea id="description" rows="4" class="w-full border rounded px-3 py-2">欢迎来到我的博客！请登陆后完善您的个人信息！</textarea>
        </div>

        <div class="mb-4">
          <label class="block text-sm font-medium required mb-1">联系邮箱</label>
          <input type="email" id="email" value="pigStar@gmail.com" class="w-full border rounded px-3 py-2" />
        </div>

        <div class="mb-4">
          <label class="block text-sm font-medium mb-1">技术栈</label>
          <input type="text" id="techStack" value="暂无" class="w-full border rounded px-3 py-2" placeholder="暂无" />
        </div>

        <div class="mb-4">
          <label class="block text-sm font-medium mb-1">兴趣爱好</label>
          <input type="text" id="hobbies" value="暂无" class="w-full border rounded px-3 py-2" placeholder="暂无" />
        </div>

        <div class="mb-4">
          <label class="block text-sm font-medium mb-1">GitHub 链接</label>
          <input type="text" id="github" value="#" class="w-full border rounded px-3 py-2" placeholder="#" />
        </div>

        <div class="mb-6">
          <label class="block text-sm font-medium mb-1">个人主页链接 (可选)</label>
          <input type="text" id="website" value="#" class="w-full border rounded px-3 py-2" placeholder="#" />
        </div>

        <div class="flex justify-end space-x-3">
          <button type="button" onclick="closeModal()" class="px-4 py-2 border rounded hover:bg-gray-100">取消</button>
          <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">确定</button>
        </div>
      </form>
    </div>
  </div>

  <!-- 新建文章弹窗 -->
  <div id="addArticleModal" class="modal-overlay hidden">
    <div class="modal">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-lg font-semibold">新建文章</h2>
        <span class="close-btn" onclick="closeAddArticleModal()">×</span>
      </div>

      <form onsubmit="saveArticle(); return false;">
        <div class="mb-4">
          <label class="block text-sm font-medium required mb-1">标题</label>
          <input type="text" id="articleTitle" class="w-full border rounded px-3 py-2" placeholder="请输入文章标题" required />
        </div>

        <div class="mb-4">
          <label class="block text-sm font-medium required mb-1">内容</label>
          <textarea id="articleContent" rows="5" class="w-full border rounded px-3 py-2" placeholder="请输入文章内容" required></textarea>
        </div>

        <div class="mb-4">
          <label class="block text-sm font-medium mb-1">标签（用逗号分隔）</label>
          <input type="text" id="articleTags" class="w-full border rounded px-3 py-2" placeholder="如：大二,校园" />
        </div>

        <div class="flex justify-end space-x-3">
          <button type="button" onclick="closeAddArticleModal()" class="px-4 py-2 border rounded hover:bg-gray-100">取消</button>
          <button type="submit" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">发布</button>
        </div>
      </form>
    </div>
  </div>

  <!-- 文章详情弹窗 -->
  <div id="articleDetailModal" class="article-detail-modal hidden">
    <div class="article-detail">
      <div class="flex justify-between items-center mb-4">
        <h2 id="articleTitleDetail" class="text-xl font-semibold"></h2>
        <span class="close-btn" onclick="document.getElementById('articleDetailModal').classList.add('hidden')">×</span>
      </div>
      <div class="text-sm text-gray-600 mb-4">
        发布于：<span id="articleDateDetail"></span>
        <span class="mx-2">•</span>
        <span id="articleTagsDetail"></span>
      </div>
      <div id="articleContentDetail" class="prose max-w-none"></div>
      <div class="mt-6 flex justify-end">
        <button onclick="document.getElementById('articleDetailModal').classList.add('hidden')" class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600">关闭</button>
      </div>
    </div>
  </div>

  <script>
    // 模拟用户信息
    let userInfo = {
      avatarUrl: 'https://tu.tuhenmei.com/zb_users/upload/2023/06/20230613168661723:',
      name: 'pigStar',
      bio: '这个人很神秘，什么也没留下。',
      description: '欢迎来到我的博客！请登陆后完善您的个人信息！',
      email: 'pigStar@gmail.com',
      techStack: '暂无',
      hobbies: '暂无',
      github: '#',
      website: '#'
    };

    // 模拟文章数据
    let articles = [
      {
        date: '2025年12月',
        posts: [
          {
            id: 1,
            title: '大二碎记：在校园的烟火里，捡拾成长的星光',
            date: '2025-12-22',
            url: '#',
            tags: ['大二', '校园'],
            content: '这是关于大学生活的第一篇记录。在校园的烟火中，我学会了独立，也收获了友谊。每一个夜晚的自习室灯光，都是成长的见证。'
          },
          {
            id: 2,
            title: '武汉美食打卡全攻略：在烟火气里吃透江湖味',
            date: '2025-12-22',
            url: '#',
            tags: ['美食', '武汉', '攻略'],
            content: '武汉的热干面、豆皮、鸭脖……每一道菜都藏着江湖的味道。从户部巷到吉庆街，我走遍了这座城市的每个角落，只为寻找最地道的美味。'
          }
        ]
      }
    ];

    // 显示编辑个人信息弹窗
    function showEditForm() {
      document.getElementById('editModal').classList.remove('hidden');
    }

    // 关闭弹窗
    function closeModal() {
      document.getElementById('editModal').classList.add('hidden');
    }

    // 保存用户信息
    function saveUserInfo() {
      userInfo.avatarUrl = document.getElementById('avatarUrl').value;
      userInfo.name = document.getElementById('name').value;
      userInfo.bio = document.getElementById('bio').value;
      userInfo.description = document.getElementById('description').value;
      userInfo.email = document.getElementById('email').value;
      userInfo.techStack = document.getElementById('techStack').value;
      userInfo.hobbies = document.getElementById('hobbies').value;
      userInfo.github = document.getElementById('github').value;
      userInfo.website = document.getElementById('website').value;

      alert('个人信息已保存！');
      closeModal();
    }

    // 显示新建文章弹窗
    function showAddArticleForm() {
      document.getElementById('addArticleModal').classList.remove('hidden');
    }

    // 关闭新建文章弹窗
    function closeAddArticleModal() {
      document.getElementById('addArticleModal').classList.add('hidden');
    }

    // 保存文章
    function saveArticle() {
      const title = document.getElementById('articleTitle').value;
      const content = document.getElementById('articleContent').value;
      const tagsInput = document.getElementById('articleTags').value;
      const tags = tagsInput.split(',').map(t => t.trim()).filter(t => t);

      const newArticle = {
        id: Date.now(),
        title,
        date: new Date().toISOString().split('T')[0],
        url: '#',
        tags,
        content
      };

      // 添加到文章列表
      const currentMonth = articles[0].date;
      articles[0].posts.push(newArticle);

      // 更新页面
      renderArticles();

      alert('文章发布成功！');
      closeAddArticleModal();
    }

    // 渲染文章列表（用于动态更新）
    function renderArticles() {
      const container = document.querySelector('.space-y-4');
      container.innerHTML = '';

      articles.forEach(month => {
        const monthDiv = document.createElement('div');
        monthDiv.innerHTML = `
          <h3 class="text-lg font-medium text-gray-800 mb-4">${month.date}</h3>
          ${month.posts.map(post => `
            <div class="border-b pb-4 mb-4 last:border-b-0">
              <a href="#" onclick="showArticleDetail(${post.id}); return false;" class="text-blue-600 hover:underline block font-medium">${post.title}</a>
              <div class="text-sm text-gray-600 mt-1">
                ${post.date} 
                <span class="mx-1">•</span>
                ${post.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
              </div>
            </div>
          `).join('')}
        `;
        container.appendChild(monthDiv);
      });
    }

    // 显示文章详情
    function showArticleDetail(articleId) {
      const article = articles[0].posts.find(a => a.id === articleId);
      if (!article) return;

      document.getElementById('articleTitleDetail').textContent = article.title;
      document.getElementById('articleDateDetail').textContent = article.date;
      document.getElementById('articleTagsDetail').innerHTML = article.tags.map(tag => `<span class="tag">${tag}</span>`).join('');
      document.getElementById('articleContentDetail').innerHTML = article.content;

      document.getElementById('articleDetailModal').classList.remove('hidden');
    }

    // 页面加载完成后渲染文章
    window.onload = function () {
      renderArticles();
    };
  </script>

</body>
</html>